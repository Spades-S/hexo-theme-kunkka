$(document).ready(function(){
    var toc = $("#toc"), post = $(".post-body");
    if($(window).width()>768){
        var post_height = post.position().top + post.outerHeight();
            toc_height = toc.height(),
            pos_max = post_height - toc_height;
        $(".toc-item").each(function(){
            $(this).attr("id","toc-"+$(this).children(".toc-link").attr("href").substr(1));
        });
        $(window).scroll(function(){
            var scroll_top = $(this).scrollTop();
            toc.css("top",scroll_top<55? 90-scroll_top: (pos_max>scroll_top? 35: pos_max - scroll_top));
            $(".toc-item").each(function(){
                var t = $(this),
                    id = t.children(".toc-link").attr("href").substr(1),
                    header = $("#" + id),
                    offset = t.offset().top - 40;
            });
        });
    }
});


// var b = a(this).scrollTop();
//         b >= e + 60 ? a(".archive-nav").css({
//             top: 60
//         }) : a(".archive-nav").css({
//             top: e + 60 - b
//         });
//         a(".archive-title").each(function() {
//             var c = a(this)
//               , d = c.attr("id")
//               , g = parseInt(d.replace(/arti-(\d*)-\d*/, "$1"))
//               , e = c.offset().top - 40
//               , c = e + c.height();
//             b >= e && b < c && (g != f && (a("#year-" + f).removeClass("selected"),
//             a("#year-" + g).addClass("selected"),
//             f = g),
//             d = d = "#" + d.replace("arti", "mont"),
//             a(".month.monthed.selected").removeClass("selected"),
//             a(d).addClass("selected"))
//         })
//     })
