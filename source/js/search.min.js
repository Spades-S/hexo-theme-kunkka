"use strict";function stripper(e){var t=$("<div>"+e+"</div>");return t.find("script,style").remove(),$(".gutter",t).remove(),t.html()}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var searchFunc=function(e,t,r){$.ajax({url:e,dataType:"xml",success:function(e){var n=$("entry",e).map(function(){return{title:$("title",this).text(),content:stripper($("content",this).text()),url:$("url",this).text()}}).get(),a=document.getElementById(r);if(!(t.trim().length<=0)){var i='<div class="search-result-list">',s=t.trim().toLowerCase().split(/[\s\-]+/);a.innerHTML="",n.forEach(function(e){var t=!0,r=e.title.trim().toLowerCase(),n=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=e.url,c=-1,l=-1,o=-1;if(""!=r&&""!=n&&s.forEach(function(e,a){c=r.indexOf(e),l=n.indexOf(e),0>c&&0>l?t=!1:(0>l&&(l=0),0==a&&(o=l))}),t){i+='<div class="post"><div class="post-header"><h2 class="post-title"><a href=\''+a+"' class='search-result-title'>"+e.title+"</a></h2></div>";var d=e.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var u=o-20,h=o+80;0>u&&(u=0),0==u&&(h=100),h>d.length&&(h=d.length);var p=d.substring(u,h);s.forEach(function(e){var t=new RegExp(e,"gi");p=p.replace(t,'<span class="search-keyword">'+e+"</span>")}),i+='<div class="search-result post-body">'+(0==u?"":"...")+p+(h==d.length?"":"...")+"</div>"}i+="</div>",$("#no-match").addClass("matched")}}),i+="</div>",a.innerHTML=i}}})};
