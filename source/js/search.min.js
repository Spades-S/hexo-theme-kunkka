function stripper(t){var e=$("<div>"+t+"</div>");return e.find("script,style").remove(),$(".gutter",e).remove(),e.html()}var searchFunc=function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var s=$("entry",t).map(function(){return{title:$("title",this).text(),content:stripper($("content",this).text()),url:$("url",this).text()}}).get(),i=document.getElementById(r);if(!(e.trim().length<=0)){var n='<div class="search-result-list">',a=e.trim().toLowerCase().split(/[\s\-]+/);i.innerHTML="",s.forEach(function(t){var e=!0,r=t.title.trim().toLowerCase(),s=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=t.url,c=-1,l=-1,o=-1;if(""!=r&&""!=s&&a.forEach(function(t,i){c=r.indexOf(t),l=s.indexOf(t),0>c&&0>l?e=!1:(0>l&&(l=0),0==i&&(o=l))}),e){n+='<div class="post"><div class="post-header"><h2 class="post-title"><a href=\''+i+"' class='search-result-title'>"+t.title+"</a></h2></div>";var u=t.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var v=o-20,h=o+80;0>v&&(v=0),0==v&&(h=100),h>u.length&&(h=u.length);var d=u.substring(v,h);a.forEach(function(t){var e=new RegExp(t,"gi");d=d.replace(e,'<span class="search-keyword">'+t+"</span>")}),n+='<div class="search-result post-body">'+(0==v?"":"...")+d+(h==u.length?"":"...")+"</div>"}n+="</div>"}}),n+="</div>",i.innerHTML=n}}})};
